services:
    _defaults:
        autowire: true
        autoconfigure: true

    # Disable messenger logging in tests
    logger:
        class: Psr\Log\NullLogger

    # Test fixtures
    Freyr\MessageBroker\Tests\Fixtures\:
        resource: '../../Fixtures/'

    # Test message collector (not auto-configured as handler)
    Freyr\MessageBroker\Tests\Functional\Handler\TestMessageCollector:
        public: true
        autoconfigure: true
